---
sidebar_position: 4
---

# CowSwap

CowSwapは、AMM（Uniswap型）の流動性を利用しつつも、**オフチェーンでの注文マッチングとバッチオークション**を採用することで、サンドイッチ攻撃やフロントランを回避する仕組みを持つDEXアグリゲーターである。  
名前の "CoW" は **Coincidence of Wants（欲求の一致）** に由来し、ユーザー同士の注文を直接相殺することで、流動性プールに依存せず効率的かつ安全に取引を成立させる。

official web: [CowSwap](https://swap.cow.fi/#/1/swap/WETH/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48)


## 仕組み
### オフチェーンオーダーフロー
- ユーザーが注文を送信すると、それはオンチェーンではなく**オフチェーンのソルバー（Solver）ネットワーク**に送られる。  
- ソルバーはユーザー注文を集約し、最適なマッチングや流動性利用戦略を構築する。  

### バッチオークション
- ソルバーは一定時間内の注文を**バッチ**としてまとめて処理。  
- 同じトークンペアを逆方向に注文しているユーザーがいれば直接マッチングし、残りはUniswapなど既存AMMや他DEXの流動性を利用する。  
- バッチ内で一括清算されるため、**トランザクションの順番が攻撃対象にならない**。  

### Solver競争
- 複数のソルバーが存在し、誰が最も良い価格・実行戦略を出せるかを競う。  
- 最良の結果を提示したソルバーが採用されることで、ユーザーは常に**最適化された価格・実行パス**を得られる。  

## 強みと課題

### 強み
- サンドイッチ攻撃の根本的な余地が小さい（オフチェーンバッチ処理）。  
- ユーザー同士の「欲求一致」による直接マッチングでスリッページが減少。  
- 複数DEXを横断するアグリゲーターとして、流動性利用効率が高い。  

### 課題
- ソルバーへの依存度が高く、完全分散化とは言い切れない。  
- バッチオークション形式のため、即時実行を求めるユーザーには不向き。  
- ソルバーの最適化アルゴリズム次第で、実際の実行品質が左右される。  

## 将来性
- AMM型の「サンドイッチ攻撃リスク」や、オーダーブック型の「流動性不足問題」を補完する第3のアプローチとして注目されている。  
- 既存DEXの流動性を組み合わせることで拡張性が高く、DeFiアグリゲーターの進化系と見られる。  
- ソルバーの競争メカニズムが成熟することで、ユーザーは常に最良の価格と公平な取引環境を享受できる可能性がある。  

## まとめ
CowSwapは「オンチェーンAMMで発生するサンドイッチ攻撃」を、**オフチェーンのバッチオークション＋マッチング**によって回避するDEXアグリゲーターである。  
サンドイッチ攻撃に対抗するための一つの有効な設計であり、AMMやオーダーブックとは異なる第三の選択肢として将来性を持つ。
