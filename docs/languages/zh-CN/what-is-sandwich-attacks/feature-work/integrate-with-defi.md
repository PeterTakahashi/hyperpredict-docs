---
sidebar_position: 2
---

# 将三明治攻击预测与 DeFi 集成

以往的思路更多偏向“事后补偿”或“结构上更不易被攻击”。一种互补思路是：事前预测风险，并向用户发出警告。  

我们拟提供“三明治攻击预测 API”，并与 Uniswap 及其他 DeFi 应用集成。

## 思路概览
- 当用户准备发起交换时，前端向 API 发送参数：  
  - 交换哪些代币、数量多少  
  - 通过哪个合约/路径  
  - 用户设置的滑点容忍度  
- API 分析内存池状态与市场流动性，返回“三明治发生可能性”的 5 级风险评分。  

## 流程（示意）
1. 用户点击“Swap”前，前端先查询 API。  
2. API 返回风险（如：1 = 安全，5 = 极高风险）。  
3. 若风险较高，UI 显示警告并提示用户确认。  

示例：  
- 风险 1–2 → 正常执行  
- 风险 3 → 展示警告（可能存在价格操纵）  
- 风险 4–5 → 执行前弹出确认对话框  

## 用户收益
- 预防措施：执行前识别风险，规避损失与 Gas 浪费。  
- 透明度：量化的风险更易于新手理解。  
- 易于集成：通过 API 可轻松并入既有 DeFi 界面。  

## 对 DeFi 项目的价值
- 提升 UX：在成交时给予用户信心。  
- 与其他 DEX/聚合器差异化。  
- 降低攻击损失、提升生态信任。  

## 挑战
- 预测准确性至关重要；误报会伤害体验。  
- 内存池与市场变化极快，需要实时分析。  
- 私有内存池与经 Flashbots 路由的订单流外部难以观测。  

## 小结
“三明治攻击预测 × DeFi 集成”为主动规避攻击新增了一层防线。与保险、结构性（非 AMM）设计并行，它可作为第三条有效路径，显著改善用户体验。
