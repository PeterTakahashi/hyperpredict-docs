---
sidebar_position: 1
---

# EVM 基础

以太坊虚拟机（EVM）是运行在以太坊及众多 EVM 兼容链上的智能合约执行环境。理解 EVM 有助于把握三明治攻击的成因与机制。

## 权益证明（PoS）
以太坊目前采用 PoS：验证者通过质押代币获得出块权。验证者能决定区块内交易的顺序，这是 MEV（可提取最大价值）的来源之一。在 PoS 中，验证者按质押占比以概率获得提议区块的权力，被选中的提议者可以决定交易顺序，从而可能促成三明治攻击。尽管全网有超百万验证者，想大规模篡改链几乎不可能，但“区块内合法重排”的一次性 MEV 抽取（包括三明治）却屡见不鲜。

## 验证者（Validator）
验证者负责验证交易并产出区块。他们可以查看内存池中的待处理交易，并在某些情况下通过调整顺序来获取利润。

## 区块与交易
每个区块包含多笔交易，其顺序由区块提议者（验证者）决定。这种可重排能力使得抢跑与三明治成为可能。

## RPC 服务器
用户与 dApp 通常经由 RPC（远程过程调用）服务器连接网络并发送交易。若 RPC 恶意，可能会拦截订单流并泄露给攻击者。

## Solidity
许多 DeFi 协议用 Solidity 编写并在 EVM 上运行。智能合约的透明性虽高，但也让攻击者更容易理解并利用协议机制。

## 钱包（Wallet）
钱包（软件或硬件）管理私钥并负责交易签名/发送。它既是资产的“保险库”，也是连接以太坊网络的界面。由钱包发出的交易经由 RPC 进入内存池，随后被打包进区块。
